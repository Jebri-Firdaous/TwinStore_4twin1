<!---
<div class="container">
  <h2>Ajouter un Produit</h2>
  <form #productForm="ngForm" (ngSubmit)="onSave(productForm)" novalidate>
    -- Champ Name --
    <div class="form-group">
      <label for="name">Nom du Produit</label>
      <input
        type="text"
        id="name"
        name="name"
        [(ngModel)]="product.name"
        #name="ngModel"
        class="form-control"
        pattern="[a-zA-ZÀ-ÿ ]*"
        minlength="5"
        required
      />
      <div *ngIf="name.invalid && (name.dirty || name.touched)" class="error-messages">
        <div *ngIf="name.errors?.['required']">Le nom est obligatoire.</div>
        <div *ngIf="name.errors?.['pattern']">Le nom ne doit contenir que des lettres, des espaces, ou des lettres accentuées.</div>
        <div *ngIf="name.errors?.['minlength']">Le nom doit contenir au moins 5 caractères.</div>
      </div>
    </div>
    

    -- Champ Image --
    <div class="form-group">
      <label for="image">URL de l'Image</label>
      <input
        type="text"
        id="image"
        name="image"
        [(ngModel)]="product.image"
        #image="ngModel"
        class="form-control"
      />
    </div>

    -- Champ Category ID --
    <div class="form-group">
      <label for="categoryId">ID Catégorie</label>
      <input
        type="number"
        id="categoryId"
        name="categoryId"
        [(ngModel)]="product.categoryId"
        #categoryId="ngModel"
        class="form-control"
        required
      />
      <div *ngIf="categoryId.invalid && (categoryId.dirty || categoryId.touched)" class="error-messages">
        <div *ngIf="categoryId.errors?.['required']">L'ID catégorie est obligatoire.</div>
      </div>
    </div>

    -- Champ Description --
    <div class="form-group">
      <label for="description">Description</label>
      <textarea
        id="description"
        name="description"
        [(ngModel)]="product.description"
        class="form-control"
      ></textarea>
    </div>

    -- Champ Price --
    <div class="form-group">
      <label for="price">Prix</label>
      <input
        type="text"
        id="price"
        name="price"
        [(ngModel)]="product.price"
        #price="ngModel"
        class="form-control"
        pattern="^\d+(\.\d+)?$"
        required
      />
      <div *ngIf="price.invalid && (price.dirty || price.touched)" class="error-messages">
        <div *ngIf="price.errors?.['required']">Le prix est obligatoire.</div>
        <div *ngIf="price.errors?.['pattern']">Le prix doit être un nombre valide.</div>
      </div>
    </div>

    -- Champ Brand --
    <div class="form-group">
      <label for="brand">Marque</label>
      <input
        type="text"
        id="brand"
        name="brand"
        [(ngModel)]="product.brand"
        class="form-control"
      />
    </div>

    -- Champ Promotion --
    <div class="form-group">
      <label for="promotion">Promotion (%)</label>
      <input
        type="text"
        id="promotion"
        name="promotion"
        [(ngModel)]="product.promotion"
        #promotion="ngModel"
        class="form-control"
        pattern="^(0|[1-9][0-9]?)$"
      />
      <div *ngIf="promotion.invalid && (promotion.dirty || promotion.touched)" class="error-messages">
        <div *ngIf="promotion.errors?.['pattern']">La promotion doit être entre 0 et 100.</div>
      </div>
    </div>

    -- Bouton Save --
    <button type="submit" [disabled]="productForm.invalid" class="btn btn-primary">Save</button>
  </form>

  -- Liste des produits --
  <div class="product-list">
    <h3>Liste des Produits</h3>
    <ul>
      <li *ngFor="let item of list">
        {{ item.name }} - {{ item.price }} DT - {{item.brand}}- {{item.description}} -{{item.promotion}} %
      </li>
    </ul>
  </div>
</div>
-->
<div class="container">
  <h2>Ajouter un Produit</h2>
  <form [formGroup]="productForm" (ngSubmit)="onSave()">
    <div class="form-group">
      <label for="name">Nom du Produit</label>
      <input
        id="name"
        type="text"
        formControlName="name"
        class="form-control"
      />
      <div *ngIf="productForm.get('name')?.invalid && productForm.get('name')?.touched" class="error-messages">
        <small *ngIf="productForm.get('name')?.errors?.['required']">Le nom est obligatoire.</small>
        <small *ngIf="productForm.get('name')?.errors?.['minlength']">Le nom doit contenir au moins 5 caractères.</small>
        <small *ngIf="productForm.get('name')?.errors?.['pattern']">Le nom ne doit contenir que des lettres.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="image">Image du Produit</label>
      <input
        id="image"
        type="text"
        formControlName="image"
        class="form-control"
      />
    </div>

    <div class="form-group">
      <label for="categoryId">Catégorie</label>
      <input
        id="categoryId"
        type="number"
        formControlName="categoryId"
        class="form-control"
      />
      <div *ngIf="productForm.get('categoryId')?.invalid && productForm.get('categoryId')?.touched" class="error-messages">
        <small *ngIf="productForm.get('categoryId')?.errors?.['required']">La catégorie est obligatoire.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <textarea
        id="description"
        formControlName="description"
        class="form-control"
      ></textarea>
    </div>

    <div class="form-group">
      <label for="price">Prix</label>
      <input
        id="price"
        type="text"
        formControlName="price"
        class="form-control"
      />
      <div *ngIf="productForm.get('price')?.invalid && productForm.get('price')?.touched" class="error-messages">
        <small *ngIf="productForm.get('price')?.errors?.['required']">Le prix est obligatoire.</small>
        <small *ngIf="productForm.get('price')?.errors?.['pattern']">Le prix doit être un nombre valide (ex: 10.99).</small>
      </div>
    </div>

    <div class="form-group">
      <label for="brand">Marque</label>
      <input
        id="brand"
        type="text"
        formControlName="brand"
        class="form-control"
      />
    </div>

    <div class="form-group">
      <label for="promotion">Promotion (%)</label>
      <input
        id="promotion"
        type="text"
        formControlName="promotion"
        class="form-control"
      />
      <div *ngIf="productForm.get('promotion')?.invalid && productForm.get('promotion')?.touched" class="error-messages">
        <small *ngIf="productForm.get('promotion')?.errors?.['pattern']">La promotion doit être un nombre inférieur ou égal à 100.</small>
      </div>
    </div>

    <button type="submit" [disabled]="productForm.invalid">Enregistrer</button>
  </form>
   <!-- Liste des produits -->
   <div class="product-list">
    <h3>Liste des Produits</h3>
    <ul>
      <li *ngFor="let item of productList">
        {{ item.name }} - {{ item.price }} DT - {{item.brand}} - {{item.description}} - {{item.promotion}} %
      </li>
    </ul>
  </div>
</div>
